{"ConeEarth":{"relationship":{},"frame":{"position":[0,0,0]},"renderables":{"model":{"body":{"end":1500000,"renderables":{"cameras":{"pip":false},"type":"particles","primitive":"triangles","attributes":{"position":{"type":"vec3","load":["var f = function(buffer, count, stride, context) {","   for(var i = 0; i < count; ++i) {","       buffer[i * stride] = 0;","   }","}; f"],"update":["var f = function(buffer, count, stride, context) {","   if(__ranger.scene.get('Sun').ellipsoid && __ranger.scene.get('Earth').ellipsoid){","       var time = __ranger.app.getWin()._window.camera.clock.time;","       var earthRadius = __ranger.scene.get('Earth').ellipsoid[0];","       var sunRadius   = __ranger.scene.get('Sun').ellipsoid[0];","       var frame = {parent: __ranger.scene.get('Sun'), position: [0,0,0], orientation: [0,0,0,1]};","       var sunPosition = __ranger.scene.get('ConeEarth').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       frame = {parent: __ranger.scene.get('Earth'), position: [0,0,0], orientation: [0,0,0,1]};","       var earthPosition = __ranger.scene.get('ConeEarth').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       var distance = 0;","       distance += Math.pow(earthPosition[0] - sunPosition[0], 2);","       distance += Math.pow(earthPosition[1] - sunPosition[1], 2);","       distance += Math.pow(earthPosition[2] - sunPosition[2], 2);","       distance = Math.sqrt(distance);","       var coneHeight = earthRadius * distance / (sunRadius - earthRadius);","       var angle = 0;","       var diffEarthSun = __ranger.math.vSub(earthPosition, sunPosition);","       var diffEarthSunNorm = __ranger.math.vNormalized(diffEarthSun);","       var coneBase = earthPosition;","       var coneApex = __ranger.math.vMul(diffEarthSunNorm, coneHeight);","       var r = earthRadius;","       for(var i = 0; i < count/3; ++i) {","           buffer[3 * i * stride + 0] = coneApex[0];","           buffer[3 * i * stride + 1] = coneApex[1];","           buffer[3 * i * stride + 2] = coneApex[2];","           for(var j = 0; j < 2; ++j){","               angle = 2 * (i + j) * Math.PI / (count/3);","               var a = __ranger.math.vNormalized([-1 / diffEarthSunNorm[0], -1 / diffEarthSunNorm[1], -1 / diffEarthSunNorm[2]]);","               var b = __ranger.math.vNormalized(__ranger.math.cross(diffEarthSunNorm, a));","               buffer[3 * i * stride + 3 + (3 * j)] = coneBase[0] + earthRadius * (a[0] * Math.cos(angle) + b[0] * Math.sin(angle));","               buffer[3 * i * stride + 4 + (3 * j)] = coneBase[1] + earthRadius * (a[1] * Math.cos(angle) + b[1] * Math.sin(angle));","               buffer[3 * i * stride + 5 + (3 * j)] = coneBase[2] + earthRadius * (a[2] * Math.cos(angle) + b[2] * Math.sin(angle));","           }","       }","   }","}; f"]}},"uniforms":{"count":{"type":"int","value":120}},"states":[{"enabled":true,"mask":false,"type":"depth"},{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"},{"type":"culling","enabled":false}],"queue":"transparent","material":{"clickable":false,"lightingModel":"phong","vertexDefaults":["Position"],"bindings":{"vec4":{"color":[0.9,0.39,1,0.2]}}}}}}}},"ConePenumbra":{"relationship":{"parent":"Moon"},"frame":{"position":[0,0,0]},"context":{"vector4":{"color":[0.72,0.3,1,0.075]}},"renderables":{"model":{"body":{"end":1500000,"renderables":{"cameras":{"pip":false},"type":"particles","primitive":"triangleStrip","attributes":{"position":{"type":"vec3","load":["var f = function(buffer, count, stride, context) {","   for(var i = 0; i < count; i++) {","       for(var j = 0; j < 3; j++) {","           buffer[i * stride + j] = 0;","       }","   }","}; f"],"update":["var f = function(buffer, count, stride, context) {","   if(__ranger.scene.get('Sun') && __ranger.scene.get('Moon')){","       var time = __ranger.app.getWin()._window.camera.clock.time;","       var moonRadius = __ranger.scene.get('Moon').ellipsoid[0];","       var sunRadius  = __ranger.scene.get('Sun').ellipsoid[0];","       var frame = {parent: __ranger.scene.get('Sun'), position: [0,0,0], orientation: [0,0,0,1]};","       var sunPosition = __ranger.scene.get('ConePenumbra').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       frame = {parent: __ranger.scene.get('Moon'), position: [0,0,0], orientation: [0,0,0,1]};","       var moonPosition = __ranger.scene.get('ConePenumbra').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       frame = {parent: __ranger.scene.get('Earth'), position: [0,0,0], orientation: [0,0,0,1]};","       var earthPosition = __ranger.scene.get('ConePenumbra').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       var distanceMoonSun = __ranger.math.vNorm(__ranger.math.vSub(moonPosition, sunPosition));","       var distanceEarthMoon = __ranger.math.vNorm(__ranger.math.vSub(moonPosition, earthPosition));","       var sunToMoonNorm = __ranger.math.vNormalized(__ranger.math.vSub(moonPosition, sunPosition));","       var invisibleConeHeight = moonRadius * distanceMoonSun / (sunRadius + moonRadius);","       var totalLength = distanceEarthMoon;","       var base2Radius = (invisibleConeHeight + totalLength) * moonRadius/invisibleConeHeight;","       var base2Center = __ranger.math.vAdd(__ranger.math.vMul(sunToMoonNorm, totalLength),moonPosition);","       __ranger.math.fillLayeredCone(buffer.byteOffset, stride, moonPosition, moonRadius, base2Center, base2Radius, totalLength, 360, 10);","   }","}; f"]}},"uniforms":{"count":{"type":"int","value":3620},"prevDistance":{"type":"float","value":0},"margin":{"type":"float","value":0}},"states":[{"enabled":true,"mask":false,"type":"depth"},{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"},{"type":"culling","enabled":false}],"material":{"clickable":false,"lightingModel":"phong","vertexDefaults":["Position"],"bindings":{"function":{"vec4":{"color":["var f = function(context) {","   if(context.data.vector4 && context.data.vector4.color)","       return context.data.vector4.color;","}; f"]}}}}}}}}},"ConeUmbra":{"relationship":{"parent":"Moon"},"frame":{"position":[0,0,0]},"context":{"vector4":{"color":[0.72,0.3,1,0.075]}},"renderables":{"model":{"body":{"end":1500000,"renderables":{"cameras":{"pip":false},"type":"particles","primitive":"triangleStrip","attributes":{"position":{"type":"vec3","load":["var f = function(buffer, count, stride, context) {","   for(var i = 0; i < count; i++) {","       for(var j = 0; j < 3; j++) {","           buffer[i * stride + j] = 0;","       }","   }","}; f"],"update":["var f = function(buffer, count, stride, context) {","   if(__ranger.scene.get('Sun') && __ranger.scene.get('Moon')){","       var time = __ranger.app.getWin()._window.camera.clock.time;","       var moonRadius = __ranger.scene.get('Moon').ellipsoid[0];","       var sunRadius  = __ranger.scene.get('Sun').ellipsoid[0];","       var frame = {parent: __ranger.scene.get('Sun'), position: [0,0,0], orientation: [0,0,0,1]};","       var sunPosition = __ranger.scene.get('ConeUmbra').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       frame = {parent: __ranger.scene.get('Moon'), position: [0,0,0], orientation: [0,0,0,1]};","       var moonPosition = __ranger.scene.get('ConeUmbra').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       frame = {parent: __ranger.scene.get('Earth'), position: [0,0,0], orientation: [0,0,0,1]};","       var earthPosition = __ranger.scene.get('ConeUmbra').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","       var distanceMoonSun = __ranger.math.vNorm(__ranger.math.vSub(moonPosition, sunPosition));","       var distanceEarthMoon = __ranger.math.vNorm(__ranger.math.vSub(moonPosition, earthPosition));","       var sunToMoonNorm = __ranger.math.vNormalized(__ranger.math.vSub(moonPosition, sunPosition));","       var coneHeight = moonRadius * distanceMoonSun / (sunRadius - moonRadius);","       var totalLength = distanceEarthMoon;","       var base1Radius = moonRadius;","       var base2Radius = (coneHeight - distanceEarthMoon) * base1Radius/coneHeight;","       var base1Center = moonPosition;","       var base2Center = __ranger.math.vAdd(__ranger.math.vMul(sunToMoonNorm, distanceEarthMoon),base1Center);","       __ranger.math.fillLayeredCone(buffer.byteOffset, stride, base1Center, base1Radius, base2Center, base2Radius, totalLength , 360, 10);","   }","}; f"]}},"uniforms":{"count":{"type":"int","value":3620},"prevDistance":{"type":"float","value":0},"margin":{"type":"float","value":0}},"states":[{"enabled":true,"mask":false,"type":"depth"},{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"},{"type":"culling","enabled":false}],"material":{"clickable":false,"lightingModel":"phong","vertexDefaults":["Position"],"bindings":{"function":{"vec4":{"color":["var f = function(context) {","   if(context.data.vector4 && context.data.vector4.color)","       return context.data.vector4.color;","}; f"]}}}}}}}}},"Earth":{"relationship":{"children":[],"parent":"EarthMoonBarycenter"},"frame":{"position":{"type":"Named","name":"EarthPos","update":true,"data":{"type":"Resampled","uri":"$RANGER.STATIC/static/eclipse/ephimerides/earth_pos.json"}},"orientation":{"type":"Resampled","uri":"$RANGER.STATIC/static/eclipse/ephimerides/earth_ori.json"}},"context":{"double":{"shadowScale":1}},"renderables":{"model":{"label":{"end":25,"renderables":{"type":"Label","Text":"Earth"}},"ellipsoid":{"end":16,"renderables":{"geoid":["$RenderableProjectedMap",{"projection":"WGS84","queue":"transparent","material":["$SolarEclipseShadow",{"normalStrength":0.2,"specularStrength":0.7,"specularExponent":3,"moonRadius":1738,"naturalMode":0,"moonPosition":[0,0,0],"sunRadius":696300,"sunPosition":[0,0,0],"bendPercent1":0.215,"bendPercent2":0.42,"bendShadow1":[0.17,0.17,0.17,1],"bendShadow2":[0.08,0.08,0.08,1],"umbraShadow":[0.6,0.6,0.6,1],"cubeTemplateParams":{"prefix":"$RANGER.IMAGES/static/images/earth_day_2048_512_","suffix":".jpg"},"eclipsePenumbra":"$RANGER.IMAGES/static/images/penumbra.png","earthNight":"$RANGER.IMAGES/static/images/earth_night.jpg","earthDay":"$RANGER.IMAGES/static/images/earth_day_2k.jpg","specularTexture":"$RANGER.IMAGES/static/images/earth_flat_specular.jpg","normalTexture":"$RANGER.IMAGES/static/images/earth_normal.jpg"}]}],"atmosphere":{"type":"projectedMap","maxVerts":75000,"projection":{"ellipsoid":[7525.954,7525.954,7502.425,0]},"normal":6,"renderBack":true,"states":[{"enabled":true,"mask":false,"type":"depth"},{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"}],"material":{"lightingModel":"none","channel":{"color":{"include":["channel/atmosphere"],"prepend":[],"uniform":{"float":["innerRadiusPolarNorm","innerRadiusEquatorialNorm"],"mat3":["rotation"],"vec3":["sunPosition"]},"operations":[{"op":"assign","sample":"frag()","sampleIsCall":false}]}},"bindings":{"vec4":{"color":[0.7686274,0.83137,1,1]},"float":{"innerRadiusPolarNorm":0.84464435125,"innerRadiusEquatorialNorm":0.84748585261},"vec3":{"sunPosition":[0,0,0]},"function":{"vec3":{"sunPosition":["var f = function(context) {","   var sunPosition = [0.0, 0.0, 0.0];","   if(__ranger.scene.get('Sun')){","       var frame = {parent: __ranger.scene.get('Sun'), position: [0,0,0], orientation: [0,0,0,1]};","       sunPosition = __ranger.scene.get('Earth').frame.convert(frame, __ranger.app.getWin()._window.camera).position;","   }","   return sunPosition;","}; f"]}}}}}}}}},"static":{"interactable":true,"ellipsoid":[6378.14,6378.14,6356.75]}},"EarthFixed":{"relationship":{"parent":"EarthMoonBarycenter"},"frame":{"position":{"type":"Named","name":"EarthPos"}},"static":{"ellipsoid":[6378.14,6378.14,6356.75]}},"EarthMoonBarycenter":{"relationship":{"children":["Moon","MoonFixed","EarthMoonHalfway","EarthFixed","Earth"],"parent":"SS"},"frame":{"position":{"type":"Resampled","uri":"$RANGER.STATIC/static/eclipse/ephimerides/emb_pos.json"}},"renderables":{"orbit":{"end":25,"start":12,"enabled":false,"renderables":"$RenderableKeplerOrbitLines"}}},"EarthMoonHalfway":{"relationship":{"parent":"EarthMoonBarycenter"},"frame":{"position":{"type":"Scale","LHS":[0.5,0.5,0.5],"RHS":{"type":"Translate","LHS":{"type":"Named","name":"EarthPos"},"RHS":{"type":"Named","name":"MoonPos"}}}},"static":{"ellipsoid":[6378.14,6378.14,6356.75]}},"Galaxies":{"context":{"JSDataSource":{"stars0":"$RANGER.STATIC/static/starfield/galaxies.0.star"}},"renderables":{"model":{"renderables":["$RenderableStarsAndGalaxies",{"sizingFunction":["return galaxySize();"]}]}},"static":{"interactable":false}},"Moon":{"relationship":{"children":["ConePenumbra","ConeUmbra"],"parent":"EarthMoonBarycenter"},"frame":{"position":{"type":"Named","name":"MoonPos","update":true,"data":{"Type":"Scale","RHS":{"type":"Named","name":"UnscaledMoonPos","update":true,"data":{"type":"Resampled","uri":"$RANGER.STATIC/static/eclipse/ephimerides/moon_pos.json"}},"LHS":{"type":"Function","evaluate":["var f = function() {","   if(__ranger.scene.scene.Moon.renderables.transform.enabled && 'orbitScale' in __ranger.scene.scene.Moon.renderables.transform) {","       return [__ranger.scene.scene.Moon.renderables.transform.orbitScale,__ranger.scene.scene.Moon.renderables.transform.orbitScale,__ranger.scene.scene.Moon.renderables.transform.orbitScale];","   }","   return [1,1,1];","}; f"]}}},"orientation":{"type":"Resampled","uri":"$RANGER.STATIC/static/eclipse/ephimerides/moon_ori.json"}},"renderables":{"model":{"label":{"end":18,"renderables":{"type":"Label","Text":"Moon"}},"ellipsoid":{"end":16,"renderables":["$RenderableProjectedMap",{"projection":{"ellipsoid":[1733.1,1733.1,1731,0]},"queue":"transparent","material":["$MaterialMoon",{"cubeTemplateParams":{"prefix":"$RANGER.IMAGES/static/images/moon_512_","suffix":".jpg"},"specularTexture":"$RANGER.IMAGES/static/images/moon_spec.jpg","normalTexture":"$RANGER.IMAGES/static/images/moon_norm.jpg","normalStrength":0.2,"specularStrength":0.125,"specularExponent":0.1}]}]}},"orbit":{"end":25,"start":11,"enabled":false,"renderables":"$RenderableKeplerOrbitLines"}},"static":{"interactable":false,"ellipsoid":[1738.1,1738.1,1736]}},"MoonFixed":{"relationship":{"parent":"EarthMoonBarycenter"},"frame":{"position":{"type":"Named","name":"MoonPos"}},"static":{"ellipsoid":[1738.1,1738.1,1736]}},"SS":{"relationship":{"children":["Galaxies","Stars","Sun","EarthMoonBarycenter"]}},"Stars":{"context":{"JSDataSource":{"stars0":"$RANGER.STATIC/static/starfield/stars.0.star","stars1":"$RANGER.STATIC/static/starfield/stars.1.star","stars2":"$RANGER.STATIC/static/starfield/stars.2.star","stars3":"$RANGER.STATIC/static/starfield/stars.3.star","stars4":"$RANGER.STATIC/static/starfield/stars.4.star","stars5":"$RANGER.STATIC/static/starfield/stars.5.star"}},"renderables":{"model":{"renderables":["$RenderableStarsAndGalaxies",{"sizingFunction":["return starSize();"]}]}},"static":{"interactable":false}},"Sun":{"relationship":{"parent":"SS"},"frame":{"Pposition":[374643.11598,751173.000036,303385.983726],"position":{"type":"Resampled","uri":"$RANGER.STATIC/static/eclipse/ephimerides/sun_pos.json"},"Kposition":{"type":"Kepler","eccentricity":0.6441632554768231,"ascendingNode":105.7479190336955,"period":1807.641716834532,"semimajorAxis":0.003893333083371121,"inclination":2.017830547518459,"argumentOfPeriapsis":155.7235348859714,"epoch":502391807.748498}},"renderables":{"model":{"renderables":{"label":{"end":18,"type":"Label","Text":"Sun","enabled":false},"ellipsoid":{"type":"projectedMap","maxVerts":75000,"projection":{"ellipsoid":[696300,696300,696300,0]},"normal":6,"renderBack":true,"states":[{"type":"blend"}],"material":{"lightingModel":"none","channel":{"color":{"include":["channel/cubemap","channel/limb"],"prepend":["vec4 noiseColor(vec4 ret) {","   float offset = wallTime * 1.0;","   vec2 uv = vuv0;","   vec4 perlinCloud = sampleCube(noiseImage, noiseImage, noiseImage, noiseImage, noiseImage, noiseImage, getCubeUV(uv));","   float redPerlinCloud = perlinCloud.r * uv.x;","   float greenPerlinCloud = (1.0 - perlinCloud.g) * uv.y;","   vec2 rgDivide = vec2(redPerlinCloud, greenPerlinCloud) / uv;","   rgDivide = (rgDivide + offset * vec2(0.01, -0.01)) * 6.0;","   vec4 shimmers = sampleCube(noiseImage, noiseImage, noiseImage, noiseImage, noiseImage, noiseImage, getCubeUV(fract(rgDivide)));","   shimmers *= vec4(1.0, 0.5, 0.0, 1.0);","   vec3 src = ret.xyz;","   vec3 dst = shimmers.xyz;","   vec3 fin = vec3(1.0 - 2.0 * (1.0 - src.x) * (1.0 - dst.x), 1.0 - 2.0 * (1.0 - src.y) * (1.0 - dst.y), 1.0 - 2.0 * (1.0 - src.z) * (1.0 - dst.z));","   if(ret.x <= 0.5)","      fin.x= 2.0 * src.x * dst.x;","   if(src.y <= 0.5)","       fin.y = 2.0 * src.y * dst.y;","   if(src.z <= 0.5)","       fin.z = 2.0 * src.z * dst.z;","   fin = clamp(fin, 0.0, 1.0);","   fin = mix(src, fin, 0.944);","   return vec4(fin.xyz, 1.0);","}"],"uniform":{"sampler2D":["star0","star1","star2","star3","star4","star5","noiseImage"],"vec3":["colorBright","colorDark"],"float":["noiseSpeed","limbDist","limbValue","wallTime"],"vec4":["tintColor"]},"operations":[{"op":"assign","sample":"sampleCube(star0, star1, star2, star3, star4, star5, getCubeUV(vuv0))","sampleIsCall":false},{"op":"add","sample":"mix(noiseColor(ret), vec4(1.0, 0.37, 0.01, 1.0), limb())","sampleIsCall":false}]}},"bindings":{"vec4":{"color":[1,1,0,1]},"float":{"limbDist":1.2,"limbValue":2,"noiseSpeed":0.01},"sampler2D":{"star0":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/sun_0.jpg"},"star1":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/sun_1.jpg"},"star2":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/sun_2.jpg"},"star3":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/sun_3.jpg"},"star4":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/sun_4.jpg"},"star5":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/sun_5.jpg"},"noiseImage":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/perlin_tileable.jpg"}}}}},"halo":{"type":"projectedMap","maxVerts":75000,"projection":{"ellipsoid":[1288586.35396,1288586.35396,1288586.35396,0]},"normal":6,"renderBack":true,"states":[{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"}],"material":{"lightingModel":"none","channel":{"color":{"include":["channel/perlinNoise3D_Optimized","channel/halo"],"prepend":[],"uniform":{"float":["innerRadiusPolarNorm","perlinAmplitude","perlinLacunarity","perlinGain","perlinDensity","perlinVelocity","noiseMult","wallTime"],"mat3":["rotation"]},"operations":[{"op":"assign","sample":"colorBase * haloDensityAtPoint()","sampleIsCall":false}]}},"bindings":{"float":{"innerRadiusPolarNorm":0.54035959473,"perlinAmplitude":1,"perlinLacunarity":5.2,"perlinGain":0.36,"perlinDensity":4.7,"perlinVelocity":2,"noiseMult":2},"vec4":{"color":[0.8,0.72,0.24,1]}}}},"coronaBack":{"type":"billboard","clickable":false,"size":[1270000,1270000],"states":[{"enabled":true,"mask":false,"type":"depth"},{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"}],"queue":"transparent","material":{"lightingModel":"none","channel":{"color":{"include":["channel/bezier","channel/blendFunctions"],"prepend":["vec4 noiseColor(vec4 ret) {","   float localHeight = pow(vuv0.x - 0.5, 2.0) + pow(vuv0.y - 0.5, 2.0);","   localHeight = sqrt(localHeight);","   return vec4(ret.xyz, cubicBezier(localHeight, 1.0, 0.0, 0.0, -1.0));","}"],"operations":[{"op":"assign","sample":"noiseColor(ret)","sampleIsCall":false}]}},"bindings":{"vec4":{"color":[1,0.57,0.01,1]}}}},"flames":{"type":"billboard","clickable":false,"size":[1270000,1270000],"states":[{"enabled":true,"mask":false,"type":"depth"},{"destination":"one","equation":"add","source":"srcAlpha","type":"blend"}],"queue":"transparent","material":{"lightingModel":"none","channel":{"color":{"include":["channel/bezier","channel/blendFunctions"],"prepend":["vec4 noiseColor(vec4 ret) {","   float rotationMag = cameraOrientation.x + cameraOrientation.y + cameraOrientation.z + cameraOrientation.w;","   float offset = wallTime * noiseSpeed + 0.2 * rotationMag;","   vec3 noiseColorLeft  = texture2D(noiseImage, fract(vec2(vuv0.x + offset, vuv0.y))).xyz;","   vec3 noiseColorRight = texture2D(noiseImage, fract(vec2(vuv0.x - offset, vuv0.y))).xyz;","   vec3 noiseColorUp    = texture2D(noiseImage, fract(vec2(vuv0.x, vuv0.y + offset))).xyz;","   vec3 noiseColorDown  = texture2D(noiseImage, fract(vec2(vuv0.x, vuv0.y - offset))).xyz;","   vec3 combinedNoise = linearLight(linearLight(noiseColorLeft, noiseColorRight), linearLight(noiseColorUp, noiseColorDown));","   vec2 noisyUV = vec2(vuv0.x + combinedNoise.r, + vuv0.y + combinedNoise.r);","   vec4 finalColor = texture2D(image, fract(noisyUV)) * ret;","   float sin_factor = sin(2.0);","   float cos_factor = cos(2.0);","   vec2 rotatedUV = vec2(vuv0.x - 0.5, vuv0.y - 0.5) * mat2(cos_factor, -sin_factor, sin_factor, cos_factor) + vec2(0.5, 0.5);","   finalColor.a = texture2D(image, rotatedUV).r;","   return finalColor;","}"],"uniform":{"vec3":["colorBright","colorDark"],"vec4":["cameraOrientation"],"sampler2D":["image","noiseImage"],"float":["bezier0","bezier1","bezier2","bezier3","noiseSpeed","wallTime"],"mat3":["rotation"]},"operations":[{"op":"assign","sample":"noiseColor(ret) * ret","sampleIsCall":false}]}},"bindings":{"sampler2D":{"image":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/corona_plasma.jpg"},"noiseImage":{"uv":"vuv0","texture":"$RANGER.IMAGES/static/images/perlin_tileable.jpg"}},"float":{"bezier0":-0.8,"bezier1":-0.8,"bezier2":1,"bezier3":1,"noiseSpeed":0.001},"vec4":{"color":[0.8,0.55,0.11,1],"cameraOrientation":[0,0,0,1]},"function":{"vec4":{"cameraOrientation":["var f = function(context, camera) {","   return camera.frame.orientation;","}; f"]}}}}}}},"light":{"renderables":{"type":"Light","mode":"distantPoint","irradience":[1,0.5,0.2]},"end":21.20300751956555}},"static":{"interactable":false,"maxZoomMult":1000,"minZoomMult":5,"ellipsoid":[696300,696300,696300]}}}